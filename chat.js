const _0x364a63 = _0x3387;
(function(_0x4f4974, _0x4dcc14) {
    const _0x4b36f7 = _0x3387
      , _0x112137 = _0x4f4974();
    while (!![]) {
        try {
            const _0x52967c = parseInt(_0x4b36f7(0xc8)) / 0x1 * (parseInt(_0x4b36f7(0xbc)) / 0x2) + parseInt(_0x4b36f7(0x10b)) / 0x3 + -parseInt(_0x4b36f7(0xe3)) / 0x4 * (-parseInt(_0x4b36f7(0xf9)) / 0x5) + parseInt(_0x4b36f7(0xd2)) / 0x6 * (parseInt(_0x4b36f7(0xce)) / 0x7) + -parseInt(_0x4b36f7(0xfc)) / 0x8 + -parseInt(_0x4b36f7(0xdf)) / 0x9 * (-parseInt(_0x4b36f7(0x101)) / 0xa) + -parseInt(_0x4b36f7(0xdb)) / 0xb * (parseInt(_0x4b36f7(0xdd)) / 0xc);
            if (_0x52967c === _0x4dcc14)
                break;
            else
                _0x112137['push'](_0x112137['shift']());
        } catch (_0x5c1219) {
            _0x112137['push'](_0x112137['shift']());
        }
    }
}(_0x30c0, 0xe66bb));
const _0x59ab1c = _0x3a77;
(function(_0x53ec2b, _0x373d41) {
    const _0xa8b1ee = _0x3387
      , _0xbc6f25 = _0x3a77
      , _0x1bfaa0 = _0x53ec2b();
    while (!![]) {
        try {
            const _0x854962 = parseInt(_0xbc6f25(0x1af)) / 0x1 + -parseInt(_0xbc6f25(0x1ab)) / 0x2 * (parseInt(_0xbc6f25(0x1a8)) / 0x3) + parseInt(_0xbc6f25(0x17e)) / 0x4 + parseInt(_0xbc6f25(0x182)) / 0x5 * (parseInt(_0xbc6f25(0x1c9)) / 0x6) + -parseInt(_0xbc6f25(0x17f)) / 0x7 + parseInt(_0xbc6f25(0x1b6)) / 0x8 * (parseInt(_0xbc6f25(0x198)) / 0x9) + -parseInt(_0xbc6f25(0x1c4)) / 0xa * (parseInt(_0xbc6f25(0x16f)) / 0xb);
            if (_0x854962 === _0x373d41)
                break;
            else
                _0x1bfaa0[_0xa8b1ee(0xda)](_0x1bfaa0['shift']());
        } catch (_0x363d38) {
            _0x1bfaa0[_0xa8b1ee(0xda)](_0x1bfaa0['shift']());
        }
    }
}(_0xf103, 0x966aa));
const idioma = navigator[_0x364a63(0x10c)] || navigator[_0x59ab1c(0x19f)];
console[_0x59ab1c(0x16e)](idioma);
const nombreUsuario = localStorage[_0x59ab1c(0x18f)](_0x59ab1c(0x1bd)) || ''
  , mensajeSistema = {
    'role': 'system',
    'content': _0x364a63(0xfe) + idioma + _0x364a63(0x103) + nombreUsuario + _0x364a63(0x105)
}
  , apiKey = _0x59ab1c(0x194)
  , endpoint = _0x59ab1c(0x193)
  , style = document[_0x59ab1c(0x1a1)](_0x364a63(0xf2));
style[_0x364a63(0xe2)] = _0x59ab1c(0x18e),
document['head'][_0x364a63(0xb5)](style);
function stripHTML(_0x147f32) {
    const _0x410a38 = _0x364a63
      , _0x561483 = _0x59ab1c
      , _0x37dbb = document[_0x561483(0x1a1)](_0x561483(0x18d));
    return _0x37dbb[_0x561483(0x17c)] = _0x147f32,
    _0x37dbb[_0x410a38(0xe2)] || _0x37dbb[_0x561483(0x17a)] || '';
}
async function escribirHTMLPocoAPoco(_0x56f053, _0x3d195c, _0x267f48=0xf) {
    const _0x489208 = _0x59ab1c
      , _0x175e21 = new DOMParser()
      , _0x1be376 = _0x175e21['parseFromString'](_0x489208(0x1a9) + _0x56f053 + _0x489208(0x1aa), _0x489208(0x19a));
    async function _0x97959b(_0x509ba9, _0x3db361) {
        const _0x4fe944 = _0x3387
          , _0x2af828 = _0x489208;
        if (_0x509ba9[_0x2af828(0x1b7)] === Node[_0x2af828(0x1a4)])
            for (let _0x19d023 = 0x0; _0x19d023 < _0x509ba9[_0x2af828(0x173)][_0x2af828(0x1c6)]; _0x19d023++) {
                _0x3db361[_0x2af828(0x16d)](document[_0x2af828(0x174)](_0x509ba9[_0x2af828(0x173)][_0x2af828(0x184)](_0x19d023))),
                await new Promise(_0x40e87c => setTimeout(_0x40e87c, _0x267f48));
            }
        else {
            if (_0x509ba9[_0x2af828(0x1b7)] === Node[_0x2af828(0x1bf)]) {
                const _0x31f8a7 = document[_0x2af828(0x1a1)](_0x509ba9[_0x2af828(0x175)]);
                for (const _0x37a8ea of _0x509ba9[_0x2af828(0x18b)]) {
                    _0x31f8a7[_0x2af828(0x196)](_0x37a8ea[_0x4fe944(0xbe)], _0x37a8ea[_0x2af828(0x1a2)]);
                }
                _0x3db361['appendChild'](_0x31f8a7);
                for (const _0x8838a5 of _0x509ba9[_0x2af828(0x1a6)]) {
                    await _0x97959b(_0x8838a5, _0x31f8a7);
                }
            }
        }
    }
    for (const _0x5804eb of _0x1be376['body']['firstChild'][_0x489208(0x1a6)]) {
        await _0x97959b(_0x5804eb, _0x3d195c);
    }
}
function crearBloqueCodigo(_0x3d1b4e) {
    const _0x225325 = _0x364a63
      , _0x1327bb = _0x59ab1c
      , _0x50b151 = document[_0x1327bb(0x1a1)](_0x1327bb(0x19d));
    _0x50b151[_0x1327bb(0x19c)] = _0x1327bb(0x192);
    const _0x8d4311 = document[_0x1327bb(0x1a1)](_0x1327bb(0x197));
    _0x8d4311[_0x225325(0xe2)] = _0x3d1b4e,
    _0x50b151[_0x1327bb(0x16d)](_0x8d4311);
    const _0x525241 = document[_0x1327bb(0x1a1)](_0x1327bb(0x1b8));
    return _0x525241['className'] = _0x1327bb(0x1c5),
    _0x525241[_0x225325(0xe2)] = _0x1327bb(0x180),
    _0x525241['addEventListener'](_0x1327bb(0x1bb), () => {
        const _0x5693af = _0x1327bb;
        navigator[_0x5693af(0x1a5)][_0x5693af(0x1ba)](_0x8d4311[_0x5693af(0x173)])[_0x5693af(0x186)]( () => {
            const _0x1a80ba = _0x5693af;
            _0x525241[_0x1a80ba(0x173)] = _0x1a80ba(0x1b4),
            setTimeout( () => _0x525241[_0x1a80ba(0x173)] = _0x1a80ba(0x180), 0x5dc);
        }
        );
    }
    ),
    _0x50b151[_0x1327bb(0x16d)](_0x525241),
    _0x50b151;
}
function _0x3387(_0x2f1e66, _0xf94632) {
    const _0x30c097 = _0x30c0();
    return _0x3387 = function(_0x338757, _0x245c43) {
        _0x338757 = _0x338757 - 0xb5;
        let _0x39502a = _0x30c097[_0x338757];
        return _0x39502a;
    }
    ,
    _0x3387(_0x2f1e66, _0xf94632);
}
async function mostrarRespuestaIA(_0x5b5cf0, _0x424af3) {
    const _0x4efd94 = _0x364a63
      , _0x40abbe = _0x59ab1c
      , _0x343dd6 = new Audio(_0x40abbe(0x177));
    _0x343dd6[_0x40abbe(0x19b)] = 0.7,
    _0x343dd6[_0x40abbe(0x1c0)] = 0x1,
    _0x343dd6[_0x4efd94(0x100)](),
    await new Promise(_0x5ae23b => setTimeout(_0x5ae23b, 0x12c));
    const _0x143da7 = _0x5b5cf0[_0x40abbe(0x190)](/```([\s\S]*?)```/g);
    for (let _0x349610 = 0x0; _0x349610 < _0x143da7[_0x4efd94(0xf1)]; _0x349610++) {
        if (_0x349610 % 0x2 === 0x0) {
            const _0x2de382 = _0x143da7[_0x349610][_0x40abbe(0x1c7)](/\n/g, _0x40abbe(0x1b1))
              , _0x511628 = document[_0x40abbe(0x1a1)](_0x40abbe(0x188));
            _0x424af3[_0x40abbe(0x16d)](_0x511628),
            await escribirHTMLPocoAPoco(_0x2de382, _0x511628, 0xf);
        } else {
            const _0x139273 = crearBloqueCodigo(_0x143da7[_0x349610]);
            _0x424af3[_0x40abbe(0x16d)](_0x139273),
            await new Promise(_0x4b4e2c => setTimeout(_0x4b4e2c, 0x320));
        }
        _0x424af3[_0x4efd94(0x10e)][_0x4efd94(0xde)] = _0x424af3[_0x40abbe(0x1ad)][_0x40abbe(0x1ac)];
    }
}
function _0x3a77(_0x36f974, _0x39fc6c) {
    const _0x4c09e3 = _0xf103();
    return _0x3a77 = function(_0x492bb5, _0x1b4a8f) {
        _0x492bb5 = _0x492bb5 - 0x16c;
        let _0x449ed8 = _0x4c09e3[_0x492bb5];
        return _0x449ed8;
    }
    ,
    _0x3a77(_0x36f974, _0x39fc6c);
}
async function enviarMensaje() {
    const _0x36c4c7 = _0x364a63
      , _0x1a07cd = _0x59ab1c
      , _0x1b8710 = new Audio(_0x1a07cd(0x1b0));
    _0x1b8710[_0x1a07cd(0x19b)] = 0x1,
    _0x1b8710[_0x1a07cd(0x1c0)] = 0x2,
    _0x1b8710[_0x1a07cd(0x17b)]();
    const _0x314eb6 = document[_0x1a07cd(0x181)](_0x1a07cd(0x18c))
      , _0x4e99df = document[_0x36c4c7(0xc0)](_0x1a07cd(0x18a))
      , _0x227cc0 = _0x314eb6[_0x1a07cd(0x1a2)][_0x36c4c7(0xea)]();
    if (!_0x227cc0)
        return;
    const _0x216161 = document[_0x1a07cd(0x1a1)](_0x1a07cd(0x18d));
    _0x216161[_0x1a07cd(0x19c)] = 'message\x20user-message',
    _0x216161[_0x1a07cd(0x173)] = _0x227cc0,
    _0x4e99df[_0x36c4c7(0xb5)](_0x216161),
    _0x314eb6[_0x1a07cd(0x1a2)] = '',
    _0x4e99df[_0x1a07cd(0x195)] = _0x4e99df[_0x36c4c7(0x109)];
    const _0x131312 = _0x227cc0[_0x1a07cd(0x1a0)](/me llamo ([a-zA-ZáéíóúÁÉÍÓÚñÑ]+)/i);
    _0x131312 && localStorage[_0x1a07cd(0x1a3)](_0x1a07cd(0x1bd), _0x131312[0x1]);
    const _0x2507e8 = document[_0x1a07cd(0x181)](_0x36c4c7(0xf8))?.[_0x36c4c7(0xe0)] || _0x1a07cd(0x1c1);
    let _0x4335f3 = [];
    if (localStorage[_0x1a07cd(0x18f)](_0x1a07cd(0x16c)) === _0x1a07cd(0x176)) {
        const _0x2c217e = _0x36c4c7(0xbd) + idioma + '_' + _0x2507e8;
        _0x4335f3 = JSON[_0x1a07cd(0x191)](localStorage[_0x1a07cd(0x18f)](_0x2c217e)) || [];
    }
    let _0x562abb = _0x4335f3[_0x1a07cd(0x185)](_0x485231 => [{
        'role': _0x1a07cd(0x1ae),
        'content': stripHTML(_0x485231[_0x1a07cd(0x1ae)])
    }, {
        'role': _0x1a07cd(0x1b3),
        'content': stripHTML(_0x485231['ia'])
    }]);
    _0x562abb[_0x1a07cd(0x1be)]({
        'role': _0x36c4c7(0xf5),
        'content': _0x227cc0
    }),
    _0x562abb[_0x1a07cd(0x1c6)] > 0x64 && (_0x562abb = _0x562abb['slice'](_0x562abb[_0x36c4c7(0xf1)] - 0x64));
    const _0x3e614b = {
        'model': _0x2507e8,
        'messages': [mensajeSistema, ..._0x562abb],
        'stream': ![]
    };
    try {
        const _0x7c3659 = await fetch(endpoint, {
            'method': _0x1a07cd(0x172),
            'headers': {
                'Content-Type': _0x1a07cd(0x189),
                'Authorization': _0x1a07cd(0x183) + apiKey
            },
            'body': JSON[_0x1a07cd(0x1c2)](_0x3e614b)
        })
          , _0x4bab36 = await _0x7c3659[_0x1a07cd(0x1c3)]()
          , _0x58c0ce = _0x4bab36[_0x36c4c7(0xd1)][0x0][_0x1a07cd(0x19e)][_0x1a07cd(0x171)]
          , _0x2575e4 = document[_0x1a07cd(0x1a1)](_0x1a07cd(0x18d));
        _0x2575e4[_0x36c4c7(0x10f)] = _0x36c4c7(0xe5),
        _0x4e99df['appendChild'](_0x2575e4),
        await mostrarRespuestaIA(_0x58c0ce, _0x2575e4);
        if (localStorage[_0x1a07cd(0x18f)](_0x36c4c7(0xba)) === _0x1a07cd(0x176)) {
            const _0x1e8fe3 = _0x1a07cd(0x199) + idioma + '_' + _0x2507e8;
            _0x4335f3[_0x1a07cd(0x1be)]({
                'user': _0x227cc0,
                'ia': _0x58c0ce,
                'timestamp': new Date()[_0x1a07cd(0x187)]()
            }),
            _0x4335f3[_0x1a07cd(0x1c6)] > 0x64 && (_0x4335f3 = _0x4335f3[_0x36c4c7(0xd6)](_0x4335f3[_0x36c4c7(0xf1)] - 0x64)),
            localStorage[_0x1a07cd(0x1a3)](_0x1e8fe3, JSON[_0x1a07cd(0x1c2)](_0x4335f3));
        }
    } catch (_0x153cab) {
        const _0x2f8183 = document[_0x36c4c7(0xf7)](_0x1a07cd(0x18d));
        _0x2f8183[_0x36c4c7(0x10f)] = _0x1a07cd(0x1b2);
        const _0x262543 = new Audio(_0x1a07cd(0x179));
        _0x262543[_0x1a07cd(0x19b)] = 0.7,
        _0x262543[_0x1a07cd(0x1c0)] = 0.2,
        _0x262543[_0x1a07cd(0x17b)](),
        _0x2f8183[_0x1a07cd(0x173)] = _0x36c4c7(0xc4) + _0x153cab[_0x1a07cd(0x19e)],
        _0x4e99df[_0x1a07cd(0x16d)](_0x2f8183);
    }
}
window[_0x59ab1c(0x1a7)](_0x59ab1c(0x1b5), () => {
    const _0xdb96d = _0x364a63
      , _0x4ecbfd = _0x59ab1c
      , _0x388a37 = document[_0x4ecbfd(0x181)](_0xdb96d(0xd0))
      , _0x557a81 = document[_0x4ecbfd(0x181)](_0x4ecbfd(0x18a))
      , _0x5d618e = document[_0xdb96d(0xc0)](_0x4ecbfd(0x1bc))?.[_0x4ecbfd(0x1a2)] || _0x4ecbfd(0x1c1);
    if (localStorage[_0x4ecbfd(0x18f)](_0x4ecbfd(0x16c)) === _0x4ecbfd(0x176)) {
        const _0x279e33 = _0x4ecbfd(0x199) + idioma + '_' + _0x5d618e
          , _0x12426e = JSON[_0x4ecbfd(0x191)](localStorage[_0xdb96d(0xc1)](_0x279e33)) || [];
        _0x12426e[_0x4ecbfd(0x1b9)](_0x286705 => {
            const _0x1dafcc = _0xdb96d
              , _0x56dbb4 = _0x4ecbfd
